{"version":3,"sources":["img/icons8-marker-100.png","var/index.js","util/defineLabel.js","components/TimeValueArea.js","components/DateValue.js","util/formatDateTime.js","util/calcAverage.js","util/constructAreaChartData.js","util/handleChartSetter.js","util/constructComposedChartData.js","containers/Form.js","components/Info.js","containers/Sidebar.js","containers/Map.js","App.js","util/fetchObservationLocations.js","serviceWorker.js","index.js"],"names":["module","exports","defaultCoordinate","lat","lng","iconUrl","require","layerOptions","name","url","defineLabel","type","unit","TimeValueArea","_ref","_ref$data","data","_defineLabel","react_default","a","createElement","ResponsiveContainer","width","height","AreaChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","tickFormatter","value","substr","YAxis","label","angle","position","Tooltip","formatter","toFixed","Area","stroke","fill","DateValue","ComposedChart","layout","concat","Legend","Bar","stackId","Line","formatDateTime","timestamp","timeString","Date","getDate","getMonth","getHours","month","time","calcAverage","arr","arrContainsNumbersOnly","arguments","length","undefined","truthy","filter","v","isNaN","item","map","len","average","reduce","b","constructAreaChartData","groupType","_loop","i","allCitiesPair","loc","index","pair","timeValuePairs","push","Object","defineProperty","observeHours","selectedLocInfo","handleChartSetter","id","setter","clone","toConsumableArray","info","_constructAreaChartDa","composedData","allRegionsData","region","dateValuePairs","date","seen","_ref2","hasOwnProperty","keys","_calcAverage","min","Math","apply","max","NaN","finalData","oneDayMin","oneDayMax","oneDayAvg","constructComposedChartData","Button","styled","button","_templateObject","Form","submit","selectedLocation","handleClick","_useState","useState","_useState2","slicedToArray","setType","disabled","onClick","react_fontawesome_index_es","icon","faGlobeEurope","onChange","e","target","Info","_ref2$info","_ref2$position","lon","className","style","textTransform","observeLocations","clearSelectedLocation","chartData","setChartData","useEffect","containers_Form","components_Info","components_TimeValueArea","components_DateValue","Sidebar_templateObject","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","shadowUrl","MapContainer","LeafletMap","Map_templateObject","Map","setSelectedLocation","latlng","setLatLng","clickIcon","layers","LayersControl","BaseLayer","key","checked","TileLayer","attribution","maxZoom","markers","sort","_ref3","_ref3$position","_ref3$info","Overlay","Marker","onMouseOver","openPopup","onMouseOut","closePopup","popupopen","Popup","clickedCircle","CircleMarker","center","radius","opacity","es_Tooltip","permanent","zoom","touchZoom","lib","showMarker","App","setObservationLocations","_useState3","_useState4","connection","Metolib","WfsConnection","connect","getData","begin","now","end","requestParameter","timestep","bbox","callback","errors","forEach","err","console","error","errorText","locations","_loc$info$position$ma","parseFloat","_loc$info$position$ma2","objectSpread","disconnect","fetchObservationLocation","containers_Sidebar","containers_Map","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b64782b6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const attribution =\r\n  \"&copy; <a href=&quot;http://www.openstreetmap.org/copyright&quot;>OpenStreetMap</a> &copy; <a href=&quot;https://carto.com/attributions&quot;>CARTO</a> &copy; <a href=&quot;https://opentopomap.org&quot;>OpenTopoMap</a> &copy; <a href=&quot;http://stamen.com&quot;>StamenDesign</a> &copy; <a href=&quot;http://tileserver.maptiler.com&quot;>NASA</a>\";\r\n\r\nexport const defaultCoordinate = { lat: 64, lng: 27 };\r\n\r\nexport const defaultLayer = \"Mapnik\";\r\n\r\nexport const defaultType = \"t\";\r\n\r\nexport const observeHours = 24 * 6;\r\n\r\n// for clicked icon\r\nexport const iconUrl = require(\"../img/icons8-marker-100.png\");\r\n\r\nexport const layerOptions = [\r\n  { name: \"Mapnik\", url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" },\r\n  {\r\n    name: \"BlackAndWhite\",\r\n    url: \"http://a.tile.stamen.com/toner/{z}/{x}/{y}.png\"\r\n  },\r\n  {\r\n    name: \"Light\",\r\n    url: \"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\"\r\n  },\r\n  {\r\n    name: \"Dark\",\r\n    url: \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\r\n  },\r\n  {\r\n    name: \"TopoMap\",\r\n    url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\"\r\n  },\r\n  {\r\n    name: \"NASA\",\r\n    url: \"https://tileserver.maptiler.com/nasa/{z}/{x}/{y}.jpg\"\r\n  }\r\n];\r\n","export default type => {\r\n  switch (type) {\r\n    case \"t\":\r\n      return {\r\n        unit: \"degC\",\r\n        name: \"Temperature\"\r\n      };\r\n    case \"r_1h\":\r\n      return {\r\n        unit: \"mm\",\r\n        name: \"Precipitation\"\r\n      };\r\n    default:\r\n      return {\r\n        unit: \"cm\",\r\n        name: \"Snowdepth\"\r\n      };\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { string, array } from \"prop-types\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\nimport defineLabel from \"../util/defineLabel\";\r\n\r\nconst TimeValueArea = ({ data = [], type }) => {\r\n  const { unit, name } = defineLabel(type);\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={250}>\r\n      <AreaChart\r\n        data={data}\r\n        margin={{ top: 40, right: 30, left: 20, bottom: 20 }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"time\" tickFormatter={value => value.substr(0, 2)} />\r\n        <YAxis\r\n          label={{\r\n            value: unit,\r\n            angle: -90,\r\n            position: \"insideLeft\"\r\n          }}\r\n        />\r\n        <Tooltip formatter={value => value.toFixed(type === \"r_1h\" ? 1 : 0)} />\r\n        <Area type=\"monotone\" dataKey={name} stroke=\"#8884d8\" fill=\"#8884d8\" />\r\n      </AreaChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default TimeValueArea;\r\n\r\nTimeValueArea.propTypes = {\r\n  data: array,\r\n  type: string.isRequired\r\n};\r\n","import React from \"react\";\r\nimport { array, string } from \"prop-types\";\r\nimport {\r\n  ComposedChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Line,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  Legend\r\n} from \"recharts\";\r\nimport defineLabel from \"../util/defineLabel\";\r\n\r\nconst DateValue = ({ data = [], type }) => (\r\n  <ResponsiveContainer width=\"100%\" height={350}>\r\n    <ComposedChart\r\n      layout=\"vertical\"\r\n      width={600}\r\n      height={400}\r\n      data={data}\r\n      margin={{ top: 30, right: 30, bottom: 20, left: 20 }}\r\n    >\r\n      <CartesianGrid stroke=\"#f5f5f5\" />\r\n      <XAxis type=\"number\" />\r\n      <YAxis\r\n        dataKey=\"date\"\r\n        type=\"category\"\r\n        label={{\r\n          value: \"Day\",\r\n          angle: -90,\r\n          position: \"insideLeft\"\r\n        }}\r\n      />\r\n      <Tooltip\r\n        formatter={value =>\r\n          `${value.toFixed(type === \"r_1h\" ? 1 : 0)} ${defineLabel(type).unit}`\r\n        }\r\n      />\r\n      <Legend />\r\n      <Bar dataKey=\"min\" stackId=\"a\" fill=\"#8884d8\" />\r\n      <Bar dataKey=\"max\" stackId=\"a\" fill=\"#82ca9d\" />\r\n      <Line dataKey=\"average\" stroke=\"#17becf\" />\r\n    </ComposedChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\nexport default DateValue;\r\n\r\nDateValue.propTypes = {\r\n  data: array,\r\n  type: string.isRequired\r\n};\r\n","export default timestamp => {\r\n  if (timestamp) {\r\n    const timeString = new Date(timestamp);\r\n    const [date, month, time] = [\r\n      timeString.getDate(),\r\n      timeString.getMonth() + 1,\r\n      timeString.getHours()\r\n    ];\r\n    const finalTime = `${date}/${month}(${time}:00)`;\r\n    return finalTime;\r\n  }\r\n};\r\n","export default (arr, arrContainsNumbersOnly = true) => {\r\n  if (arr) {\r\n    const truthy = !arrContainsNumbersOnly\r\n      ? arr.filter(item => item && !isNaN(item.value)).map(v => v.value)\r\n      : arr.filter(v => !isNaN(v));\r\n\r\n    const len = truthy.length;\r\n    if (!len) {\r\n      return { average: undefined };\r\n    }\r\n    const sum = truthy.reduce((a, b) => a + b);\r\n    return {\r\n      average: sum / len,\r\n      arr: truthy\r\n    };\r\n  }\r\n};\r\n","import formatDateTime from \"./formatDateTime\";\r\nimport { observeHours } from \"../var\";\r\nimport calcAverage from \"./calcAverage\";\r\nimport defineLabel from \"./defineLabel\";\r\n\r\nexport default (data, type) => {\r\n  const groupType = [];\r\n  for (let i = 0; i < observeHours + 1; i++) {\r\n    let time = null;\r\n    const allCitiesPair = data.map((loc, index) => {\r\n      const pair = loc.data[type].timeValuePairs[i];\r\n      if (!time && pair) time = pair.time;\r\n      return pair;\r\n    });\r\n\r\n    if (allCitiesPair.length) {\r\n      const { average } = calcAverage(allCitiesPair, false);\r\n      groupType.push({\r\n        time: formatDateTime(time),\r\n        [defineLabel(type).name]: average\r\n      });\r\n    }\r\n  }\r\n  return {\r\n    data: groupType,\r\n    selectedLocInfo: data.length === 1 ? data[0] : {}\r\n  };\r\n};\r\n","import constructAreaChartData from \"./constructAreaChartData\";\r\nimport constructComposedChartData from \"./constructComposedChartData\";\r\nimport { defaultType } from \"../var\";\r\n\r\nexport default (arr, id, type, setter) => {\r\n  let clone = [...arr];\r\n  if (id) {\r\n    clone = arr.filter(a => a.info.id === id);\r\n  }\r\n  const { data, selectedLocInfo } = constructAreaChartData(\r\n    clone,\r\n    type || defaultType\r\n  );\r\n  const composedData = constructComposedChartData(clone, type || defaultType);\r\n  setter({ data, composedData, type: type || defaultType, selectedLocInfo });\r\n};\r\n","import formatDateTime from \"./formatDateTime\";\r\nimport calcAverage from \"./calcAverage\";\r\n\r\nexport default (data, type) => {\r\n  const allRegionsData = data.map((region, i) => {\r\n    const pairs = region.data[type].timeValuePairs;\r\n    const dateValuePairs = pairs.map(({ time, value }) => {\r\n      const date = formatDateTime(time).substr(0, 2);\r\n      return { date, value };\r\n    });\r\n    const seen = {};\r\n    dateValuePairs.map(({ date, value }) => {\r\n      if (!seen.hasOwnProperty(date)) {\r\n        seen[date] = [];\r\n      }\r\n      return seen[date].push(value);\r\n    });\r\n    const keys = Object.keys(seen);\r\n    const regionMinMaxAvg = keys.map(date => {\r\n      const { average, arr } = calcAverage(seen[date]);\r\n      if (!average) {\r\n        return { date, min: NaN, max: NaN, average: NaN };\r\n      }\r\n      const min = Math.min(...arr);\r\n      const max = Math.max(...arr);\r\n      return { date, min, max, average };\r\n    });\r\n    return regionMinMaxAvg;\r\n  });\r\n\r\n  const finalData = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    if (allRegionsData && allRegionsData.length) {\r\n      const { date } = allRegionsData && allRegionsData[0][i];\r\n      const oneDayMin = allRegionsData.map(\r\n        region => region[i] && region[i].min\r\n      );\r\n      const oneDayMax = allRegionsData.map(\r\n        region => region[i] && region[i].max\r\n      );\r\n      const oneDayAvg = allRegionsData.map(\r\n        region => region[i] && region[i].average\r\n      );\r\n      const min = calcAverage(oneDayMin).average;\r\n      const max = calcAverage(oneDayMax).average;\r\n      const average = calcAverage(oneDayAvg).average;\r\n      finalData.push({ date, min, max, average });\r\n    }\r\n  }\r\n  return finalData;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { defaultType } from \"../var\";\r\nimport { faGlobeEurope } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  background: white;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1.5em;\r\n\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst Form = ({ submit, selectedLocation, handleClick }) => {\r\n  const [type, setType] = useState(defaultType);\r\n\r\n  const handleChange = e => {\r\n    submit(e.target.value);\r\n    setType(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button disabled={!selectedLocation} onClick={handleClick}>\r\n        <FontAwesomeIcon icon={faGlobeEurope} />\r\n        All Regions\r\n      </Button>\r\n      <select value={type} onChange={handleChange}>\r\n        <option value=\"t\">Temperature</option>\r\n        <option value=\"snowdepth\">Snowdepth</option>\r\n        <option value=\"r_1h\">Precipitation</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport \"../style/info.css\";\r\n\r\nconst Info = ({ data }) => {\r\n  const { info = {}, position = {} } = data || {};\r\n  const { name, region } = info;\r\n  const { lat, lon } = position;\r\n  return (\r\n    <div>\r\n      <div className=\"info\">\r\n        <p style={{ textTransform: \"uppercase\" }}>\r\n          {!name ? <span>Name: </span> : name}\r\n        </p>\r\n        <p>\r\n          <span>Region: </span>\r\n          <span>{region}</span>\r\n        </p>\r\n        <p>\r\n          <span>Latitude: </span>\r\n          <span>{lat}</span>\r\n        </p>\r\n        <p>\r\n          <span>Longtitude: </span>\r\n          <span>{lon}</span>\r\n        </p>\r\n      </div>\r\n      {!region ? <pre>Choose location from Map</pre> : null}\r\n    </div>\r\n  );\r\n};\r\nexport default Info;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { number, arrayOf, oneOfType, object, shape, string } from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport TimeValueArea from \"../components/TimeValueArea\";\r\nimport DateValue from \"../components/DateValue\";\r\nimport constructAreaChartData from \"../util/constructAreaChartData\";\r\nimport handleChartSetter from \"../util/handleChartSetter\";\r\nimport Form from \"./Form\";\r\nimport Info from \"../components/Info\";\r\n\r\nfunction Sidebar({\r\n  selectedLocation,\r\n  observeLocations,\r\n  className,\r\n  clearSelectedLocation\r\n}) {\r\n  const [chartData, setChartData] = useState({\r\n    data: [],\r\n    composedData: [],\r\n    selectedLocInfo: {},\r\n    type: \"\"\r\n  });\r\n\r\n  useEffect(\r\n    () => {\r\n      const { type } = chartData;\r\n      handleChartSetter(observeLocations, selectedLocation, type, setChartData);\r\n    },\r\n    [observeLocations, selectedLocation]\r\n  );\r\n\r\n  const handleType = type =>\r\n    handleChartSetter(observeLocations, selectedLocation, type, setChartData);\r\n\r\n  const setData = () => {\r\n    const data = constructAreaChartData(observeLocations, type);\r\n    clearSelectedLocation();\r\n    setChartData({ data, type });\r\n  };\r\n\r\n  const { data, composedData, type, selectedLocInfo } = chartData;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Form\r\n        submit={handleType}\r\n        selectedLocation={selectedLocation}\r\n        handleClick={setData}\r\n      />\r\n      <Info data={selectedLocInfo} />\r\n      <TimeValueArea data={data} type={type} />\r\n      <DateValue data={composedData} type={type} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default styled(Sidebar)`\r\n  & > div:first-child {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nSidebar.propTypes = {\r\n  selectedLocation: oneOfType([string, object]),\r\n  observeLocations: arrayOf(\r\n    shape({\r\n      position: shape({\r\n        lat: number.isRequired,\r\n        lon: number.isRequired\r\n      }),\r\n      info: shape({\r\n        id: string.isRequired,\r\n        region: string.isRequired\r\n      })\r\n    }).isRequired\r\n  ),\r\n  className: string.isRequired\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { arrayOf, shape, number, string, func } from \"prop-types\";\r\nimport {\r\n  Map as LeafletMap,\r\n  Marker,\r\n  TileLayer,\r\n  Popup,\r\n  LayersControl,\r\n  CircleMarker,\r\n  Tooltip\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  attribution,\r\n  layerOptions,\r\n  defaultCoordinate,\r\n  iconUrl,\r\n  defaultLayer\r\n} from \"../var\";\r\nimport \"../style/map.css\";\r\nimport { ReactLeafletSearch } from \"react-leaflet-search\";\r\n\r\n// Ugly hack to fix Leaflet icons with leaflet loaders\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\r\n});\r\n\r\nconst MapContainer = styled(LeafletMap)`\r\n  height: 100vh;\r\n`;\r\n\r\nconst Map = ({ observeLocations, selectedLocation, setSelectedLocation }) => {\r\n  const [latlng, setLatLng] = useState(defaultCoordinate);\r\n\r\n  const icon = new L.Icon.Default();\r\n\r\n  const clickIcon = new L.Icon.Default({ iconUrl, className: \"blinking\" });\r\n\r\n  const layers = layerOptions.map(({ name, url }, i) => (\r\n    <LayersControl.BaseLayer\r\n      key={i}\r\n      name={name}\r\n      checked={name === defaultLayer}\r\n    >\r\n      <TileLayer attribution={attribution} url={url} maxZoom={19} />\r\n    </LayersControl.BaseLayer>\r\n  ));\r\n\r\n  const markers = observeLocations\r\n    .sort((a, b) => (a.info.region < b.info.region ? -1 : 1))\r\n    .map(({ position: { lat, lon }, info: { id, region } }) => (\r\n      <LayersControl.Overlay key={id} name={region} checked={true}>\r\n        <Marker\r\n          key={id}\r\n          icon={selectedLocation === id ? clickIcon : icon}\r\n          position={[lat, lon]}\r\n          onClick={e => setSelectedLocation(id)}\r\n          onMouseOver={e => e.target.openPopup()}\r\n          onMouseOut={e => e.target.closePopup()}\r\n          popupopen={true}\r\n        >\r\n          <Popup>{region}</Popup>\r\n        </Marker>\r\n      </LayersControl.Overlay>\r\n    ));\r\n\r\n  const clickedCircle = (\r\n    <CircleMarker center={latlng} radius={5} opacity={0.1}>\r\n      <Tooltip permanent={latlng.lat === 64 ? false : true}>\r\n        <span>{latlng.lat.toFixed(3)} </span>|\r\n        <span> {latlng.lng.toFixed(3)}</span>\r\n      </Tooltip>\r\n    </CircleMarker>\r\n  );\r\n\r\n  return (\r\n    <MapContainer\r\n      center={latlng}\r\n      zoom={5.4}\r\n      touchZoom={true}\r\n      onClick={e => setLatLng(e.latlng)}\r\n    >\r\n      <LayersControl position=\"topright\">\r\n        {layers}\r\n        <ReactLeafletSearch position=\"topright\" showMarker={false} />\r\n        {markers}\r\n      </LayersControl>\r\n      {clickedCircle}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n\r\nMap.propTypes = {\r\n  observeLocations: arrayOf(\r\n    shape({\r\n      position: shape({\r\n        lat: number.isRequired,\r\n        lon: number.isRequired\r\n      }),\r\n      info: shape({\r\n        id: string.isRequired,\r\n        region: string.isRequired\r\n      })\r\n    }).isRequired\r\n  ),\r\n  selectedLocation: string,\r\n  setSelectedLocation: func.isRequired\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./index.css\";\r\nimport fetchObservationLocation from \"./util/fetchObservationLocations\";\r\nimport Sidebar from \"./containers/Sidebar\";\r\nimport Map from \"./containers/Map\";\r\n\r\nconst App = () => {\r\n  const [observeLocations, setObservationLocations] = useState([]);\r\n\r\n  const [selectedLocation, setSelectedLocation] = useState(null);\r\n\r\n  useEffect(() => fetchObservationLocation(setObservationLocations), []);\r\n\r\n  const clearSelectedLocation = () => {\r\n    setSelectedLocation(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Sidebar\r\n        selectedLocation={selectedLocation}\r\n        observeLocations={observeLocations}\r\n        className=\"sidebar\"\r\n        clearSelectedLocation={clearSelectedLocation}\r\n      />\r\n      <Map\r\n        observeLocations={observeLocations}\r\n        selectedLocation={selectedLocation}\r\n        setSelectedLocation={setSelectedLocation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import Metolib from \"@fmidev/metolib\";\r\nimport { observeHours } from \"../var\";\r\n\r\nexport default setter => {\r\n  const connection = new Metolib.WfsConnection();\r\n  if (\r\n    connection.connect(\r\n      \"https://opendata.fmi.fi/wfs\",\r\n      \"fmi::observations::weather::cities::multipointcoverage\"\r\n    )\r\n  ) {\r\n    connection.getData({\r\n      begin: Date.now() - 60e3 * 60 * observeHours,\r\n      end: Date.now(),\r\n      requestParameter: \"t,snowdepth,r_1h\",\r\n      timestep: 60 * 60 * 1000,\r\n      bbox: \"20.6455928891, 59.846373196, 31.5160921567, 70.1641930203\",\r\n      callback: (data, errors) => {\r\n        if (errors.length > 0) {\r\n          errors.forEach(err => {\r\n            console.error(\"FMI API error: \" + err.errorText);\r\n          });\r\n          return;\r\n        }\r\n\r\n        setter(\r\n          data.locations.map(loc => {\r\n            const [lat, lon] = loc.info.position.map(parseFloat);\r\n            return { ...loc, position: { lat, lon } };\r\n          })\r\n        );\r\n\r\n        connection.disconnect();\r\n      }\r\n    });\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}