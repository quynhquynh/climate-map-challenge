{"version":3,"sources":["img/icons8-marker-100.png","var/index.js","components/TimeValueArea.js","components/DateValue.js","util/formatDateTime.js","util/calcAverage.js","util/constructAreaChartData.js","util/handleChartSetter.js","util/constructComposedChartData.js","containers/Form.js","components/Sidebar.js","containers/Map.js","App.js","util/fetchObservationLocations.js","serviceWorker.js","index.js"],"names":["module","exports","defaultCoordinate","lat","lng","iconUrl","require","layerOptions","name","url","defineLabel","type","TimeValueArea","_ref","data","react_default","a","createElement","ResponsiveContainer","width","height","AreaChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","tickFormatter","value","substr","YAxis","label","angle","position","Tooltip","formatter","toFixed","Area","stroke","fill","DateValue","ComposedChart","layout","Legend","Bar","stackId","Line","formatDateTime","timestamp","timeString","Date","getDate","getMonth","getHours","month","time","concat","calcAverage","arr","arrContainsNumbersOnly","arguments","length","undefined","truthy","filter","v","isNaN","item","map","len","average","reduce","b","constructAreaChartData","groupType","_loop","i","allCitiesPair","loc","index","pair","timeValuePairs","push","Object","defineProperty","observeHours","handleChartSetter","id","setter","clone","toConsumableArray","info","composedData","allRegionsData","region","dateValuePairs","date","seen","_ref2","hasOwnProperty","keys","_calcAverage","min","Math","apply","max","NaN","finalData","oneDayMin","oneDayMax","oneDayAvg","constructComposedChartData","Form","submit","_useState","useState","_useState2","slicedToArray","setType","onChange","e","target","styled","selectedLocation","observeLocations","className","clearSelectedLocation","chartData","setChartData","useEffect","disabled","onClick","react_fontawesome_index_es","icon","faGlobeEurope","containers_Form","components_TimeValueArea","components_DateValue","_templateObject","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","shadowUrl","MapContainer","LeafletMap","Map_templateObject","Map","setSelectedLocation","latlng","setLatLng","clickIcon","layers","LayersControl","BaseLayer","key","checked","TileLayer","attribution","maxZoom","markers","sort","_ref3","_ref3$position","lon","_ref3$info","Overlay","Marker","onMouseOver","openPopup","onMouseOut","closePopup","popupopen","Popup","clickedCircle","CircleMarker","center","radius","opacity","es_Tooltip","permanent","zoom","touchZoom","lib","showMarker","App","setObservationLocations","_useState3","_useState4","connection","Metolib","WfsConnection","connect","getData","begin","now","end","requestParameter","timestep","bbox","callback","errors","forEach","err","console","error","errorText","locations","_loc$info$position$ma","parseFloat","_loc$info$position$ma2","objectSpread","disconnect","fetchObservationLocation","components_Sidebar","containers_Map","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4f6c2436.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const attribution =\r\n  \"&copy; <a href=&quot;http://www.openstreetmap.org/copyright&quot;>OpenStreetMap</a> &copy; <a href=&quot;https://carto.com/attributions&quot;>CARTO</a> &copy; <a href=&quot;https://opentopomap.org&quot;>OpenTopoMap</a> &copy; <a href=&quot;http://stamen.com&quot;>StamenDesign</a> &copy; <a href=&quot;http://tileserver.maptiler.com&quot;>NASA</a>\";\r\n\r\nexport const defaultCoordinate = { lat: 64, lng: 27 };\r\n\r\nexport const defaultLayer = \"Mapnik\";\r\n\r\nexport const defaultType = \"t\";\r\n\r\nexport const observeHours = 24 * 6;\r\n\r\n// for clicked icon\r\nexport const iconUrl = require(\"../img/icons8-marker-100.png\");\r\n\r\nexport const layerOptions = [\r\n  { name: \"Mapnik\", url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\" },\r\n  {\r\n    name: \"BlackAndWhite\",\r\n    url: \"http://a.tile.stamen.com/toner/{z}/{x}/{y}.png\"\r\n  },\r\n  {\r\n    name: \"Light\",\r\n    url: \"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\"\r\n  },\r\n  {\r\n    name: \"Dark\",\r\n    url: \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\r\n  },\r\n  {\r\n    name: \"TopoMap\",\r\n    url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\"\r\n  },\r\n  {\r\n    name: \"NASA\",\r\n    url: \"https://tileserver.maptiler.com/nasa/{z}/{x}/{y}.jpg\"\r\n  }\r\n];\r\n","import React from \"react\";\r\nimport { array, string } from \"prop-types\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\n\r\nconst defineLabel = type => {\r\n  switch (type) {\r\n    case \"t\":\r\n      return \"degC\";\r\n    case \"r_1h\":\r\n      return \"mm\";\r\n    default:\r\n      return \"cm\";\r\n  }\r\n};\r\n\r\nconst TimeValueArea = ({ data, type }) => (\r\n  <ResponsiveContainer width=\"100%\" height={250}>\r\n    <AreaChart\r\n      data={data}\r\n      margin={{ top: 45, right: 30, left: 20, bottom: 20 }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"time\" tickFormatter={value => value.substr(0, 2)} />\r\n      <YAxis\r\n        label={{ value: defineLabel(type), angle: -90, position: \"insideLeft\" }}\r\n      />\r\n      <Tooltip formatter={value => value.toFixed(type === \"r_1h\" ? 1 : 0)} />\r\n      <Area type=\"monotone\" dataKey={type} stroke=\"#8884d8\" fill=\"#8884d8\" />\r\n    </AreaChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\nexport default TimeValueArea;\r\n\r\nTimeValueArea.propTypes = {\r\n  data: array.isRequired,\r\n  type: string.isRequired\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  ComposedChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Line,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  Legend\r\n} from \"recharts\";\r\n\r\nconst DateValue = ({ data, type }) => {\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={350}>\r\n      <ComposedChart\r\n        layout=\"vertical\"\r\n        width={600}\r\n        height={400}\r\n        data={data}\r\n        margin={{ top: 30, right: 30, bottom: 20, left: 20 }}\r\n      >\r\n        <CartesianGrid stroke=\"#f5f5f5\" />\r\n        <XAxis type=\"number\" />\r\n        <YAxis dataKey=\"date\" type=\"category\" />\r\n        <Tooltip formatter={value => value.toFixed(type === \"r_1h\" ? 1 : 0)} />\r\n        <Legend />\r\n        <Bar dataKey=\"min\" stackId=\"a\" fill=\"#8884d8\" />\r\n        <Bar dataKey=\"max\" stackId=\"a\" fill=\"#82ca9d\" />\r\n        <Line dataKey=\"average\" stroke=\"#17becf\" />\r\n      </ComposedChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default DateValue;\r\n","export default timestamp => {\r\n  if (timestamp) {\r\n    const timeString = new Date(timestamp);\r\n    const [date, month, time] = [\r\n      timeString.getDate(),\r\n      timeString.getMonth() + 1,\r\n      timeString.getHours()\r\n    ];\r\n    const finalTime = `${date}/${month}(${time}:00)`;\r\n    return finalTime;\r\n  }\r\n};\r\n","export default (arr, arrContainsNumbersOnly = true) => {\r\n  if (arr) {\r\n    const truthy = !arrContainsNumbersOnly\r\n      ? arr.filter(item => item && !isNaN(item.value)).map(v => v.value)\r\n      : arr.filter(v => !isNaN(v));\r\n\r\n    const len = truthy.length;\r\n    if (!len) {\r\n      return { average: undefined };\r\n    }\r\n    const sum = truthy.reduce((a, b) => a + b);\r\n    return {\r\n      average: sum / len,\r\n      arr: truthy\r\n    };\r\n  }\r\n};\r\n","import formatDateTime from \"./formatDateTime\";\r\nimport { observeHours } from \"../var\";\r\nimport calcAverage from \"./calcAverage\";\r\n\r\nexport default (data, type) => {\r\n  const groupType = [];\r\n  for (let i = 0; i < observeHours + 1; i++) {\r\n    let time = null;\r\n    const allCitiesPair = data.map((loc, index) => {\r\n      const pair = loc.data[type].timeValuePairs[i];\r\n      if (!time && pair) time = pair.time;\r\n      return pair;\r\n    });\r\n\r\n    if (allCitiesPair.length) {\r\n      const { average } = calcAverage(allCitiesPair, false);\r\n      groupType.push({\r\n        time: formatDateTime(time),\r\n        [type]: average\r\n      });\r\n    }\r\n  }\r\n  return groupType;\r\n};\r\n","import constructAreaChartData from \"./constructAreaChartData\";\r\nimport constructComposedChartData from \"./constructComposedChartData\";\r\nimport { defaultType } from \"../var\";\r\n\r\nexport default (arr, id, type, setter) => {\r\n  let clone = [...arr];\r\n  if (id) {\r\n    clone = arr.filter(a => a.info.id === id);\r\n  }\r\n  const data = constructAreaChartData(clone, type || defaultType);\r\n  const composedData = constructComposedChartData(clone, type || defaultType);\r\n  setter({ data, composedData, type: type || defaultType });\r\n};\r\n","import formatDateTime from \"./formatDateTime\";\r\nimport calcAverage from \"./calcAverage\";\r\n\r\nexport default (data, type) => {\r\n  const allRegionsData = data.map((region, i) => {\r\n    const pairs = region.data[type].timeValuePairs;\r\n    const dateValuePairs = pairs.map(({ time, value }) => {\r\n      const date = formatDateTime(time).substr(0, 2);\r\n      return { date, value };\r\n    });\r\n    const seen = {};\r\n    dateValuePairs.map(({ date, value }) => {\r\n      if (!seen.hasOwnProperty(date)) {\r\n        seen[date] = [];\r\n      }\r\n      return seen[date].push(value);\r\n    });\r\n    const keys = Object.keys(seen);\r\n    const regionMinMaxAvg = keys.map(date => {\r\n      const { average, arr } = calcAverage(seen[date]);\r\n      if (!average) {\r\n        return { date, min: NaN, max: NaN, average: NaN };\r\n      }\r\n      const min = Math.min(...arr);\r\n      const max = Math.max(...arr);\r\n      return { date, min, max, average };\r\n    });\r\n    return regionMinMaxAvg;\r\n  });\r\n\r\n  const finalData = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    if (allRegionsData && allRegionsData.length) {\r\n      const { date } = allRegionsData && allRegionsData[0][i];\r\n      const oneDayMin = allRegionsData.map(\r\n        region => region[i] && region[i].min\r\n      );\r\n      const oneDayMax = allRegionsData.map(\r\n        region => region[i] && region[i].max\r\n      );\r\n      const oneDayAvg = allRegionsData.map(\r\n        region => region[i] && region[i].average\r\n      );\r\n      const min = calcAverage(oneDayMin).average;\r\n      const max = calcAverage(oneDayMax).average;\r\n      const average = calcAverage(oneDayAvg).average;\r\n      finalData.push({ date, min, max, average });\r\n    }\r\n  }\r\n  return finalData;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { defaultType } from \"../var\";\r\n\r\nconst Form = ({ submit }) => {\r\n  const [type, setType] = useState(defaultType);\r\n\r\n  const handleChange = e => {\r\n    submit(e.target.value);\r\n    setType(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <select value={type} onChange={handleChange}>\r\n      <option value=\"t\">Temperature</option>\r\n      <option value=\"snowdepth\">Snowdepth</option>\r\n      <option value=\"r_1h\">Precipitation</option>\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { number, arrayOf, oneOfType, object, shape, string } from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport TimeValueArea from \"./TimeValueArea\";\r\nimport DateValue from \"./DateValue\";\r\nimport constructAreaChartData from \"../util/constructAreaChartData\";\r\nimport handleChartSetter from \"../util/handleChartSetter\";\r\nimport Form from \"../containers/Form\";\r\nimport { faGlobeEurope } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport \"../style/sidebar.css\";\r\n\r\nfunction Sidebar({\r\n  selectedLocation,\r\n  observeLocations,\r\n  className,\r\n  clearSelectedLocation\r\n}) {\r\n  const [chartData, setChartData] = useState({\r\n    data: [],\r\n    composedData: [],\r\n    type: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    const { type } = chartData;\r\n    handleChartSetter(observeLocations, selectedLocation, type, setChartData);\r\n  }, [observeLocations, selectedLocation]);\r\n\r\n  const handleType = type =>\r\n    handleChartSetter(observeLocations, selectedLocation, type, setChartData);\r\n\r\n  const setData = () => {\r\n    const data = constructAreaChartData(observeLocations, type);\r\n    clearSelectedLocation();\r\n    setChartData({ data, type });\r\n  };\r\n\r\n  const { data, composedData, type } = chartData;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div>\r\n        <button disabled={!selectedLocation} onClick={setData}>\r\n          <FontAwesomeIcon icon={faGlobeEurope} />\r\n          All Regions\r\n        </button>\r\n        <Form submit={handleType} />\r\n      </div>\r\n      <TimeValueArea data={data} type={type} />\r\n      <DateValue data={composedData} type={type} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default styled(Sidebar)`\r\n  // width: 50%;\r\n  height: 100vh;\r\n`;\r\n\r\nSidebar.propTypes = {\r\n  selectedLocation: oneOfType([string, object]),\r\n  observeLocations: arrayOf(\r\n    shape({\r\n      position: shape({\r\n        lat: number.isRequired,\r\n        lon: number.isRequired\r\n      }),\r\n      info: shape({\r\n        id: string.isRequired,\r\n        region: string.isRequired\r\n      })\r\n    }).isRequired\r\n  ),\r\n  className: string.isRequired\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { arrayOf, shape, number, string, func } from \"prop-types\";\r\nimport {\r\n  Map as LeafletMap,\r\n  Marker,\r\n  TileLayer,\r\n  Popup,\r\n  LayersControl,\r\n  CircleMarker,\r\n  Tooltip\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  attribution,\r\n  layerOptions,\r\n  defaultCoordinate,\r\n  iconUrl,\r\n  defaultLayer\r\n} from \"../var\";\r\nimport \"../style/map.css\";\r\nimport { ReactLeafletSearch } from \"react-leaflet-search\";\r\n\r\n// Ugly hack to fix Leaflet icons with leaflet loaders\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\r\n});\r\n\r\nconst MapContainer = styled(LeafletMap)`\r\n  // width: calc(100vw - 300px);\r\n  height: 100vh;\r\n  // position: absolute;\r\n  // top: 0px;\r\n  // left: 40%;\r\n`;\r\n\r\nconst Map = ({ observeLocations, selectedLocation, setSelectedLocation }) => {\r\n  const [latlng, setLatLng] = useState(defaultCoordinate);\r\n\r\n  const icon = new L.Icon.Default();\r\n\r\n  const clickIcon = new L.Icon.Default({ iconUrl, className: \"blinking\" });\r\n\r\n  const layers = layerOptions.map(({ name, url }, i) => (\r\n    <LayersControl.BaseLayer\r\n      key={i}\r\n      name={name}\r\n      checked={name === defaultLayer}\r\n    >\r\n      <TileLayer attribution={attribution} url={url} maxZoom={19} />\r\n    </LayersControl.BaseLayer>\r\n  ));\r\n\r\n  const markers = observeLocations\r\n    .sort((a, b) => (a.info.region < b.info.region ? -1 : 1))\r\n    .map(({ position: { lat, lon }, info: { id, region } }) => (\r\n      <LayersControl.Overlay key={id} name={region} checked={true}>\r\n        <Marker\r\n          key={id}\r\n          icon={selectedLocation === id ? clickIcon : icon}\r\n          position={[lat, lon]}\r\n          onClick={e => setSelectedLocation(id)}\r\n          onMouseOver={e => e.target.openPopup()}\r\n          onMouseOut={e => e.target.closePopup()}\r\n          popupopen={true}\r\n        >\r\n          <Popup>{region}</Popup>\r\n        </Marker>\r\n      </LayersControl.Overlay>\r\n    ));\r\n\r\n  const clickedCircle = (\r\n    <CircleMarker center={latlng} radius={5} opacity={0.1}>\r\n      <Tooltip permanent={latlng.lat === 64 ? false : true}>\r\n        <span>{latlng.lat.toFixed(3)} </span>|\r\n        <span> {latlng.lng.toFixed(3)}</span>\r\n      </Tooltip>\r\n    </CircleMarker>\r\n  );\r\n\r\n  return (\r\n    <MapContainer\r\n      center={latlng}\r\n      zoom={5.4}\r\n      touchZoom={true}\r\n      onClick={e => setLatLng(e.latlng)}\r\n    >\r\n      <LayersControl position=\"topright\">\r\n        {layers}\r\n        <ReactLeafletSearch position=\"topright\" showMarker={false} />\r\n        {markers}\r\n      </LayersControl>\r\n      {clickedCircle}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n\r\nMap.propTypes = {\r\n  observeLocations: arrayOf(\r\n    shape({\r\n      position: shape({\r\n        lat: number.isRequired,\r\n        lon: number.isRequired\r\n      }),\r\n      info: shape({\r\n        id: string.isRequired,\r\n        region: string.isRequired\r\n      })\r\n    }).isRequired\r\n  ),\r\n  selectedLocation: string,\r\n  setSelectedLocation: func.isRequired\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./index.css\";\r\nimport fetchObservationLocation from \"./util/fetchObservationLocations\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Map from \"./containers/Map\";\r\n\r\nconst App = () => {\r\n  const [observeLocations, setObservationLocations] = useState([]);\r\n\r\n  const [selectedLocation, setSelectedLocation] = useState(null);\r\n\r\n  useEffect(() => fetchObservationLocation(setObservationLocations), []);\r\n\r\n  const clearSelectedLocation = () => {\r\n    setSelectedLocation(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Sidebar\r\n        selectedLocation={selectedLocation}\r\n        observeLocations={observeLocations}\r\n        className=\"sidebar\"\r\n        clearSelectedLocation={clearSelectedLocation}\r\n      />\r\n      <Map\r\n        observeLocations={observeLocations}\r\n        selectedLocation={selectedLocation}\r\n        setSelectedLocation={setSelectedLocation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import Metolib from \"@fmidev/metolib\";\r\nimport { observeHours } from \"../var\";\r\n\r\nexport default setter => {\r\n  const connection = new Metolib.WfsConnection();\r\n  if (\r\n    connection.connect(\r\n      \"http://opendata.fmi.fi/wfs\",\r\n      \"fmi::observations::weather::cities::multipointcoverage\"\r\n    )\r\n  ) {\r\n    connection.getData({\r\n      begin: Date.now() - 60e3 * 60 * observeHours,\r\n      end: Date.now(),\r\n      requestParameter: \"t,snowdepth,r_1h\",\r\n      timestep: 60 * 60 * 1000,\r\n      bbox: \"20.6455928891, 59.846373196, 31.5160921567, 70.1641930203\",\r\n      callback: (data, errors) => {\r\n        if (errors.length > 0) {\r\n          errors.forEach(err => {\r\n            console.error(\"FMI API error: \" + err.errorText);\r\n          });\r\n          return;\r\n        }\r\n\r\n        setter(\r\n          data.locations.map(loc => {\r\n            const [lat, lon] = loc.info.position.map(parseFloat);\r\n            return { ...loc, position: { lat, lon } };\r\n          })\r\n        );\r\n\r\n        connection.disconnect();\r\n      }\r\n    });\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}